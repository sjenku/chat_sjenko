1) handle case the the server disconnected or the client , when in the middle of the registration.
2)